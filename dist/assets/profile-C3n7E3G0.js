import{G as F,F as o,R as M,j as e,au as T,H as p,A as D,J as h,K as z,S as u,N as b,O as R,T as S,av as t,aw as B,Y as L,ax as k,X as U,ay as C,az as q,aA as I,I as w,B as O,P as V,d as G,V as c}from"./main-qHzkskQC.js";const{Title:J,Text:n,Paragraph:K}=z,{TabPane:l}=S,W=()=>{const{profile:r,error:x}=F(),[g]=o.useForm(),[N,f]=M.useState(!1),v=s=>{f(!0);const d={current_password:s.current_password,password:s.password,password_confirmation:s.password_confirmation};V(d).then(a=>{var P,_;if(a.status===G.SUCCESS)c.success("Password updated successfully!"),g.resetFields();else{const j=(_=(P=a==null?void 0:a.response)==null?void 0:P.data)==null?void 0:_.error_message;if(j&&typeof j=="object"){const E=Object.values(j).map(m=>Array.isArray(m)?m.join(" "):m).join(" ");c.error(E||(a==null?void 0:a.message)||"An error occurred")}else c.error((a==null?void 0:a.message)||"An error occurred")}}).catch(a=>{c.error(a.message||"An unexpected error occurred")}).finally(()=>{f(!1)})};if(x||!r)return e.jsx(T,{});const A=s=>({"club-president":"Club President","club-member":"Club Member",admin:"Administrator",moderator:"Moderator"})[s]||s,y=s=>({active:"success",inactive:"error",pending:"warning",suspended:"error"})[s]||"default";return e.jsx("div",{className:"p-6",children:e.jsxs(p,{bordered:!1,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(D,{size:120,icon:e.jsx(h,{}),style:{backgroundColor:"#3898CB"}}),e.jsx(J,{level:2,className:"mt-4 mb-4",children:r.name}),e.jsx(u,{wrap:!0,className:"mb-3",children:e.jsx(b,{color:"blue",children:A(r.role[0])})}),e.jsx(R,{status:y(r.status),text:`Status: ${r.status}`})]}),e.jsxs(S,{defaultActiveKey:"1",children:[e.jsx(l,{tab:"Basic Information",children:e.jsxs(t,{bordered:!0,column:1,size:"middle",children:[e.jsx(t.Item,{label:e.jsx(i,{icon:e.jsx(B,{}),text:"Email"}),children:r.email}),e.jsxs(t.Item,{label:e.jsx(i,{icon:e.jsx(h,{}),text:"Age"}),children:[r.user_details.age," years old"]}),e.jsx(t.Item,{label:e.jsx(i,{icon:e.jsx(h,{}),text:"Pronouns"}),children:r.user_details.pronouns}),e.jsx(t.Item,{label:e.jsx(i,{icon:e.jsx(L,{}),text:"Timezone"}),children:r.user_details.country_timezone}),e.jsx(t.Item,{label:e.jsx(i,{icon:e.jsx(k,{}),text:"Education Status"}),children:r.user_details.homeschool_status}),e.jsx(t.Item,{label:e.jsx(i,{icon:e.jsx(U,{}),text:"Member Since"}),children:new Date(r.user_details.created_at).toLocaleDateString()})]})},"1"),e.jsx(l,{tab:"Presided Clubs",children:r.presided_clubs.length>0?e.jsx(u,{direction:"vertical",className:"w-full",children:r.presided_clubs.map(s=>e.jsxs(p,{size:"small",children:[e.jsx(n,{strong:!0,children:s.name}),e.jsx("br",{}),e.jsxs(n,{type:"secondary",children:["Region ID: ",s.region_id]}),e.jsx("br",{}),e.jsxs(n,{children:["Status: ",e.jsx(b,{color:"green",children:s.open_status})]}),e.jsx("br",{}),e.jsxs(n,{type:"secondary",children:["Created: ",new Date(s.created_at).toLocaleDateString()]})]},s.id))}):e.jsx(C,{description:"No presided clubs"})},"2"),e.jsx(l,{tab:"Club Memberships",children:r.memberships.length>0?e.jsx(u,{direction:"vertical",className:"w-full",children:r.memberships.map(s=>e.jsx(p,{size:"small",children:e.jsxs(q,{justify:"space-between",align:"middle",children:[e.jsxs(I,{children:[e.jsx(n,{strong:!0,children:s.club}),e.jsx("br",{}),e.jsxs(n,{type:"secondary",children:["Joined: ",s.joined_at]})]}),e.jsx(I,{children:e.jsx(b,{color:y(s.status),children:s.status})})]})},s.id))}):e.jsx(C,{description:"No club memberships"})},"3"),r.user_details.bio&&e.jsx(l,{tab:"Bio",children:e.jsx(K,{children:r.user_details.bio})},"4"),e.jsx(l,{tab:"Update Password",children:e.jsxs(o,{form:g,layout:"vertical",onFinish:v,style:{maxWidth:400,margin:"0 auto",marginTop:32},children:[e.jsx(o.Item,{label:"Current Password",name:"current_password",rules:[{required:!0,message:"Please input your current password!"}],children:e.jsx(w.Password,{placeholder:"Enter current password"})}),e.jsx(o.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Please input your new password!"}],children:e.jsx(w.Password,{placeholder:"Enter new password"})}),e.jsx(o.Item,{label:"Confirm New Password",name:"password_confirmation",dependencies:["password"],rules:[{required:!0,message:"Please confirm your new password!"},({getFieldValue:s})=>({validator(d,a){return!a||s("password")===a?Promise.resolve():Promise.reject(new Error("Passwords do not match!"))}})],children:e.jsx(w.Password,{placeholder:"Confirm new password"})}),e.jsx(o.Item,{children:e.jsx(O,{type:"primary",className:"!h-[43px]",htmlType:"submit",loading:N,block:!0,children:"Update Password"})})]})},"5")]})]})})},i=({icon:r,text:x})=>e.jsxs(u,{children:[r,e.jsx("span",{children:x})]});export{W as default};
