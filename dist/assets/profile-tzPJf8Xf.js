import{j as e,z as v,C as S,L as C,B as h,D as T,F as t,R as A,E,T as c,A as F,G as _,H as I,S as j,J as k,K as L,I as d,N as R,d as z,V as n}from"./main-Bwk_xl5z.js";const B=()=>e.jsxs("div",{className:"w-full h-screen absolute top-0 left-0 flex flex-col justify-center items-center ",style:{boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(73, 154, 255, 0.3)"},children:[e.jsxs("div",{className:"relative flex justify-center items-center mb-7",children:[e.jsx(v,{color:"#000000",size:20,className:"absolute top-12 animate-spin"}),e.jsx("img",{className:" h-[28px] mt-2 animate-pulse",src:S.logodark})]}),e.jsxs("div",{className:"w-full flex-col flex items-center mt-3",children:[" ",e.jsx("p",{className:"mt-8",children:"Loading..."}),e.jsx(C,{to:"/",className:"cursor-pointer",children:e.jsx(h,{className:"bg-blue-500 text-white mt-2 cursor-pointer",children:"Please wait"})})]})]}),{Title:M,Text:w}=I,q=()=>{const{profile:a,error:f}=T(),[u]=t.useForm(),[b,m]=A.useState(!1),g=r=>({admin:"Administrator"})[r]||r,P=r=>({active:"success",inactive:"error",pending:"warning",suspended:"error"})[r]||"default",y=r=>{m(!0);const o={current_password:r.current_password,password:r.password,password_confirmation:r.password_confirmation};R(o).then(s=>{var p,x;if(s.status===z.SUCCESS)n.success("Password updated successfully!"),u.resetFields();else{const l=(x=(p=s==null?void 0:s.response)==null?void 0:p.data)==null?void 0:x.error_message;if(l&&typeof l=="object"){const N=Object.values(l).map(i=>Array.isArray(i)?i.join(" "):i).join(" ");n.error(N||(s==null?void 0:s.message)||"An error occurred")}else n.error((s==null?void 0:s.message)||"An error occurred")}}).catch(s=>{n.error(s.message||"An unexpected error occurred")}).finally(()=>{m(!1)})};return f||!a?e.jsx(B,{}):e.jsx("div",{className:"p-6",children:e.jsx(E,{bordered:!1,children:e.jsxs(c,{defaultActiveKey:"1",children:[e.jsxs(c.TabPane,{tab:"Profile",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(F,{size:120,icon:e.jsx(_,{}),style:{backgroundColor:"#3898CB"}}),e.jsx(M,{level:2,className:"mt-4 mb-4",children:a.name}),e.jsx(j,{wrap:!0,className:"mb-3",children:e.jsx(k,{color:"blue",children:g(a.role[0])})}),e.jsx(L,{status:P(a.status),text:`Status: ${a.status}`})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs(j,{direction:"vertical",size:"large",children:[e.jsx(w,{strong:!0,children:"Email:"})," ",e.jsx(w,{children:a.email})]})})]},"1"),e.jsx(c.TabPane,{tab:"Update Password",children:e.jsxs(t,{form:u,layout:"vertical",onFinish:y,style:{maxWidth:400,margin:"0 auto",marginTop:32},children:[e.jsx(t.Item,{label:"Current Password",name:"current_password",rules:[{required:!0,message:"Please input your current password!"}],children:e.jsx(d.Password,{placeholder:"Enter current password"})}),e.jsx(t.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Please input your new password!"}],children:e.jsx(d.Password,{placeholder:"Enter new password"})}),e.jsx(t.Item,{label:"Confirm New Password",name:"password_confirmation",dependencies:["password"],rules:[{required:!0,message:"Please confirm your new password!"},({getFieldValue:r})=>({validator(o,s){return!s||r("password")===s?Promise.resolve():Promise.reject(new Error("Passwords do not match!"))}})],children:e.jsx(d.Password,{placeholder:"Confirm new password"})}),e.jsx(t.Item,{children:e.jsx(h,{type:"primary",className:"!h-[43px]",htmlType:"submit",loading:b,block:!0,children:"Update Password"})})]})},"2")]})})})};export{q as default};
