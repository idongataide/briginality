import{a6 as A,a as F,r as M,j as e,D as T,F as n,R as D,E as j,A as R,G as h,H as B,S as m,J as b,K as L,T as C,ai as t,aj as k,W as U,ak as q,U as O,al as N,am as V,an as v,I as g,B as G,N as J,d as K,V as u}from"./main-ghorEWNf.js";const W=()=>{const{pathname:r}=A(),{setNavPath:i}=F();return M.useEffect(()=>{i(r.replace("/overview","deshboard"))},[]),e.jsxs("div",{className:"w-full",children:[e.jsxs("main",{id:"div.w-full",className:"grid grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx("div",{className:"h-[100px] border-gray-500 rounded-md  bg-zinc-300 animate-pulse"}),e.jsx("div",{className:"h-[100px] border-gray-500 rounded-md  bg-zinc-300 animate-pulse"}),e.jsx("div",{className:"h-[100px] border-gray-500 rounded-md  bg-zinc-300 animate-pulse"}),e.jsx("div",{className:"h-[100px] border-gray-500 rounded-md  bg-zinc-300 animate-pulse"})]}),e.jsxs("main",{className:"grid grid-cols-1 md:grid-cols-5 mt-30 gap-5",children:[e.jsx("div",{className:"h-[600px] border-gray-500 rounded-md  bg-zinc-300 animate-pulse col-span-1 md:col-span-3"}),e.jsx("div",{className:"h-[600px] border-gray-500 rounded-md  bg-zinc-300 animate-pulse col-span-1 md:col-span-2"})]})]})},{Title:H,Text:o,Paragraph:$}=B,{TabPane:l}=C,X=()=>{const{profile:r,error:i}=T(),[w]=n.useForm(),[I,y]=D.useState(!1),S=s=>{y(!0);const c={current_password:s.current_password,password:s.password,password_confirmation:s.password_confirmation};J(c).then(a=>{var P,_;if(a.status===K.SUCCESS)u.success("Password updated successfully!"),w.resetFields();else{const x=(_=(P=a==null?void 0:a.response)==null?void 0:P.data)==null?void 0:_.error_message;if(x&&typeof x=="object"){const z=Object.values(x).map(p=>Array.isArray(p)?p.join(" "):p).join(" ");u.error(z||(a==null?void 0:a.message)||"An error occurred")}else u.error((a==null?void 0:a.message)||"An error occurred")}}).catch(a=>{u.error(a.message||"An unexpected error occurred")}).finally(()=>{y(!1)})};if(i||!r)return e.jsx(W,{});const E=s=>({"club-president":"Club President","club-member":"Club Member",admin:"Administrator",moderator:"Moderator"})[s]||s,f=s=>({active:"success",inactive:"error",pending:"warning",suspended:"error"})[s]||"default";return e.jsx("div",{className:"p-6",children:e.jsxs(j,{bordered:!1,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(R,{size:120,icon:e.jsx(h,{}),style:{backgroundColor:"#3898CB"}}),e.jsx(H,{level:2,className:"mt-4 mb-4",children:r.name}),e.jsx(m,{wrap:!0,className:"mb-3",children:e.jsx(b,{color:"blue",children:E(r.role[0])})}),e.jsx(L,{status:f(r.status),text:`Status: ${r.status}`})]}),e.jsxs(C,{defaultActiveKey:"1",children:[e.jsx(l,{tab:"Basic Information",children:e.jsxs(t,{bordered:!0,column:1,size:"middle",children:[e.jsx(t.Item,{label:e.jsx(d,{icon:e.jsx(k,{}),text:"Email"}),children:r.email}),e.jsxs(t.Item,{label:e.jsx(d,{icon:e.jsx(h,{}),text:"Age"}),children:[r.user_details.age," years old"]}),e.jsx(t.Item,{label:e.jsx(d,{icon:e.jsx(h,{}),text:"Pronouns"}),children:r.user_details.pronouns}),e.jsx(t.Item,{label:e.jsx(d,{icon:e.jsx(U,{}),text:"Timezone"}),children:r.user_details.country_timezone}),e.jsx(t.Item,{label:e.jsx(d,{icon:e.jsx(q,{}),text:"Education Status"}),children:r.user_details.homeschool_status}),e.jsx(t.Item,{label:e.jsx(d,{icon:e.jsx(O,{}),text:"Member Since"}),children:new Date(r.user_details.created_at).toLocaleDateString()})]})},"1"),e.jsx(l,{tab:"Presided Clubs",children:r.presided_clubs.length>0?e.jsx(m,{direction:"vertical",className:"w-full",children:r.presided_clubs.map(s=>e.jsxs(j,{size:"small",children:[e.jsx(o,{strong:!0,children:s.name}),e.jsx("br",{}),e.jsxs(o,{type:"secondary",children:["Region ID: ",s.region_id]}),e.jsx("br",{}),e.jsxs(o,{children:["Status: ",e.jsx(b,{color:"green",children:s.open_status})]}),e.jsx("br",{}),e.jsxs(o,{type:"secondary",children:["Created: ",new Date(s.created_at).toLocaleDateString()]})]},s.id))}):e.jsx(N,{description:"No presided clubs"})},"2"),e.jsx(l,{tab:"Club Memberships",children:r.memberships.length>0?e.jsx(m,{direction:"vertical",className:"w-full",children:r.memberships.map(s=>e.jsx(j,{size:"small",children:e.jsxs(V,{justify:"space-between",align:"middle",children:[e.jsxs(v,{children:[e.jsx(o,{strong:!0,children:s.club}),e.jsx("br",{}),e.jsxs(o,{type:"secondary",children:["Joined: ",s.joined_at]})]}),e.jsx(v,{children:e.jsx(b,{color:f(s.status),children:s.status})})]})},s.id))}):e.jsx(N,{description:"No club memberships"})},"3"),r.user_details.bio&&e.jsx(l,{tab:"Bio",children:e.jsx($,{children:r.user_details.bio})},"4"),e.jsx(l,{tab:"Update Password",children:e.jsxs(n,{form:w,layout:"vertical",onFinish:S,style:{maxWidth:400,margin:"0 auto",marginTop:32},children:[e.jsx(n.Item,{label:"Current Password",name:"current_password",rules:[{required:!0,message:"Please input your current password!"}],children:e.jsx(g.Password,{placeholder:"Enter current password"})}),e.jsx(n.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Please input your new password!"}],children:e.jsx(g.Password,{placeholder:"Enter new password"})}),e.jsx(n.Item,{label:"Confirm New Password",name:"password_confirmation",dependencies:["password"],rules:[{required:!0,message:"Please confirm your new password!"},({getFieldValue:s})=>({validator(c,a){return!a||s("password")===a?Promise.resolve():Promise.reject(new Error("Passwords do not match!"))}})],children:e.jsx(g.Password,{placeholder:"Confirm new password"})}),e.jsx(n.Item,{children:e.jsx(G,{type:"primary",className:"!h-[43px]",htmlType:"submit",loading:I,block:!0,children:"Update Password"})})]})},"5")]})]})})},d=({icon:r,text:i})=>e.jsxs(m,{children:[r,e.jsx("span",{children:i})]});export{X as default};
